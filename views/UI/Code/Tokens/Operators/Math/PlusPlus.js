var _ = require('underscore');

module.exports = require('./Math').extend('Code-PlusPlus', {
    isVarOperator: true,
    template:   "++",
    precedence: 5,
    run: function(int) {
        if(_.isObject(int) && int.isToken && int.type == 'Code-Var') {
            var val = int.val();

            if(typeof val == 'number') {
                val++;
                return int.set(val);
            }
            else {
                console.warn("++ was used on a variable with non-integer value.");
                return int.val();
            }
        }
        else {
            this.error("++ can only be used on variables.");
        }
    }
});
